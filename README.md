# Tank-Taek
**แนะนำเกม**: Tank Taek เป็นเกมยิงรถถังสองมิติแบบคลาสสิกที่ผู้เล่นควบคุมรถถังของตนเพื่อทำลายรถถังศัตรูทั้งหมดในแต่ละด่าน ซี่งได้ไอเดียเกมมาจากเกม Tank 1990 เป้าหมายคือเอาชนะศัตรูผ่านด่านต่างๆ ไปจนถึงด่านสุดท้ายที่มีบอสซึ่งแข็งแกร่งกว่าปกติ เกมนี้พัฒนาโดยใช้ภาษา C++ สำหรับแสดงผลบนหน้าจอ console (terminal) ด้วยตัวอักษร ASCII ผู้เล่นจะได้รับประสบการณ์การเล่นแบบย้อนยุค โดยการควบคุมผ่านแป้นพิมพ์และมองเห็นสนามรบ รถถัง และกระสุนในรูปแบบอักขระบนหน้าจอ

### การรันโปรแกรม (<code style="color : red">สำคัญ</code>) 
การเริ่มต้นเกมทั้งหมดจะไปอยู่ที่ไฟล์ ```main.cpp``` ให้รันโดยใช้ ```Code Runner``` ที่เป็น Extention ใน Visual studio code หากยังไม่มีให้ทำการติดตั้งก่อน (หากรันเกมไม่ขึ้นให้กดรัน Code Runner 1 ครั้งเเละเปิด Terminal ของ Powershell ขึ้นมาตามด้วยเขียนคำสั่ง ```.\main.exe``` หากโคลนจาก Github ให้ใส่คำสั่ง ```& '.\tank 1990\main.exe'```)

## คู่มือเกม (Game Manual)
**วิธีการเล่น**: ผู้เล่นบังคับรถถังของตน (สัญลักษณ์ ```P``` บนแผนที่) ด้วยปุ่ม ```W``` (ขึ้น), ```A``` (ซ้าย), ```S``` (ลง), ```D``` (ขวา) เพื่อเคลื่อนที่ไปมาในสนามรบ และกด ```Space bar``` เพื่อยิงกระสุน (```*```) ออกไปในทิศทางที่รถถังกำลังหันหน้าอยู่ เป้าหมายของแต่ละด่านคือทำลายรถถังศัตรูทั้งหมด (สัญลักษณ์ ```E```) ให้หมดสิ้น เมื่อศัตรูถูกกำจัดหมด ผู้เล่นจะผ่านไปยังด่านถัดไปโดยอัตโนมัติ กดปุ่ม ```Ctrl + C``` เพื่อออกจากเกม

**กติกาการต่อสู้**: รถถังทุกคัน (ทั้งของผู้เล่นและศัตรู) จะถูกทำลายทันทีเมื่อโดนกระสุนจนพลังชีวิตหมด เเละ บอส (สัญลักษณ์ ```B```) ในด่านสุดท้ายที่ต้องโดนกระสุนหลายครั้งถึงจะถูกทำลายลง ในเกมนี้รถถังของผู้เล่นมีชีวิต 3 ชีวิต หากโดนกระสุนของศัตรูยิงจนชีวิตเหลือ 0 จะถือว่าแพ้เกม ทุกครั้งที่ผู้เล่นชนะเเต่ล่ะด่านพลังชีวิตของผู้เล่นจะกลับมาที่ 3 ชีวิตอีกครั้งในทุกๆด่าน **การชนกันทางกายภาพระหว่างรถถัง** ผู้เล่นและศัตรูไม่สามารถขับรถถังชนผ่านกันได้ รถถังจะถูกบล็อกเมื่อเจอสิ่งกีดขวาง รถถังศัตรูที่พยายามเคลื่อนที่เข้ามาที่ตำแหน่งเดียวกับผู้เล่นจะหยุดไม่สามารถเคลื่อนต่อ (ไม่มีการทำลายจากการชน)

**องค์ประกอบของแผนที่**: แผนที่แต่ละด่านจะแสดงด้วยตารางตัวอักษรขนาด 30x20 (กว้างxสูง) โดยขอบเขตของสนามรบเเละพื้นที่ภายในอาจมีสิ่งกีดขวางเป็นกำแพงอิฐถูกล้อมด้วยสัญลักษณ์  ```#``` พื้นที่ว่างที่ไม่มีอะไรอยู่จะแทนด้วยช่องว่าง ```" "```

**ด่านและความยาก**: เกมประกอบด้วย 3 ด่าน โดย แต่ละด่านจะมีการสร้างแผนที่ใหม่แบบสุ่ม สิ่งกีดขวาง ```#``` จะสุ่มวางในตำแหน่งต่างๆ ทำให้รูปแบบสนามรบเปลี่ยนไปทุกครั้ง นอกจากนี้ จำนวนศัตรูในด่านต้นๆ จะน้อยและค่อยๆ เพิ่มขึ้นในด่านหลังๆ เพื่อเพิ่มความท้าทาย (เช่น ด่าน 1 มีศัตรู 3 คัน, ด่าน 2 มี 4 คัน เป็นต้น) รถถังบอสจะปรากฏในด่านสุดท้ายของเกม (โดยด่านสุดท้ายนี้จะมีเฉพาะบอสหรือรวมกับลูกสมุนเล็กน้อยขึ้นอยู่กับการออกแบบ ในที่นี้บอสปรากฏเพียงหนึ่งคันเพื่อสู้กับผู้เล่น) บอสมีพลังชีวิตมากกว่าปกติ คือต้องโดนยิงหลายครั้งจึงจะถูกทำลาย ผู้เล่นต้องอาศัยทักษะหลบหลีกและยิงอย่างแม่นยำเพื่อเอาชนะแบบไม่เสียชีวิตก่อน

**เงื่อนไขการแพ้ชนะ**: ผู้เล่นจะ ชนะ เกมเมื่อผ่านด่านสุดท้ายและทำลายบอสสำเร็จ จะมีข้อความแสดงความยินดีปรากฏบนหน้าจอ หากผู้เล่นถูกยิงจนรถถังระเบิดก่อนจะถึงเป้าหมายสุดท้าย เกมจะจบลงและแสดงข้อความ ```"จบเกม! ผู้เล่นแพ้"``` (เกมแพ้) ผู้เล่นสามารถเริ่มเกมใหม่อีกครั้งได้โดยการรันโปรแกรมใหม่ (ในเวอร์ชันนี้ไม่มีระบบเล่นต่อหรือนับชีวิตหลายชีวิต)

## ข้อกำหนดของระบบ
### ข้อกำหนดเชิงฟังก์ชัน (Functional Requirements)
- **การควบคุมผู้เล่น 1 คน**: ระบบต้องรองรับการเล่นแบบผู้เล่นคนเดียว ผู้เล่นสามารถบังคับรถถังของตนผ่านแป้นพิมพ์ (```W```,```A```,```S```,```D``` สำหรับเคลื่อนที่ และ ```Spacebar``` สำหรับยิงกระสุน) การกดปุ่มจะส่งผลให้รถถังเคลื่อนหนึ่งช่องหรือยิงกระสุนหนึ่งนัดไปในทิศทางที่กำหนด

- **ศัตรูอัตโนมัติ**: ในแต่ละด่านจะมีรถถังศัตรูหลายคันที่เคลื่อนที่ไปมาแบบสุ่มและทำการยิงกระสุนโดยสุ่มเป็นระยะ โดยอัตโนมัติ ศัตรูจะพยายามเคลื่อนที่เมื่อเป็นไปได้ (หยุดเมื่อชนกำแพง/ขอบเขตหรือรถถังอื่น) และเปลี่ยนทิศทางแบบสุ่มเป็นครั้งคราวเพื่อความไม่แน่นอน รวมถึงสุ่มยิงกระสุนออกมา ทำให้ผู้เล่นต้องคอยหลบหลีก

- **กระสุนและการชน**: เมื่อผู้เล่นกดยิงหรือเมื่อศัตรูสุ่มยิง จะมีการสร้างกระสุน (```*```) เคลื่อนที่ไปข้างหน้าทีละช่องในทิศทางที่ยิงทำลายรถถังเป้าหมายที่ชน (รถถังคันนั้นระเบิดออกจากเกม), และตัวกระสุนเองจะหายไปเมื่อชนสิ่งใดๆ หรือออกนอกขอบเขต หน้าจอต้องอัปเดตสถานะเหล่านี้ให้ผู้เล่นเห็นแบบทันที (เช่น รถถังศัตรูถูกลบจากแผนที่)

- **ระบบด่านและบอส**: เกมประกอบด้วย 3 ด่านโดยอัตโนมัติเมื่อผู้เล่นเคลียร์ศัตรูทั้งหมดในด่านปัจจุบัน ระบบต้องสุ่มสร้างแผนที่ใหม่ในแต่ละด่าน โดยวางกำแพง ```#``` ในตำแหน่งต่างๆ แบบสุ่ม (แต่เว้นตำแหน่งเกิดของผู้เล่น/ศัตรูให้โล่งเพื่อไม่ให้ทับกัน) และสร้างรถถังศัตรูใหม่ตามจำนวนที่กำหนดของด่านนั้น ด่านสุดท้ายจะต้องมีรถถังบอส (```B```) ที่มีพลังชีวิตมากกว่าปกติ (เช่น ต้องยิง 3 ครั้ง) เมื่อบอสถูกทำลายให้ถือว่าชนะเกมทั้งหมด

- **เงื่อนไขแพ้ชนะและการแสดงผล**: หากผู้เล่นโดนกระสุนของศัตรูจนพลังชีวิตหมด เกมจะสิ้นสุดลงทันที (Game Over) ระบบต้องหยุดลูปเกมและแสดงข้อความจบเกม บนหน้าจอ เช่น ```"จบเกม! ผู้เล่นแพ้"``` หากผู้เล่นผ่านด่านสุดท้าย (กำจัดบอสได้) ระบบต้องแสดงข้อความชัยชนะ เช่น ```"ยินดีด้วย คุณชนะเกมครบทุกด่าน!"``` จากนั้นเกมจะจบลง ผู้เล่นต้องเปิดเกมใหม่หากต้องการเล่นอีกครั้ง

### ข้อกำหนดที่ไม่ใช่เชิงฟังก์ชัน (Non-Functional Requirements)
- **การใช้เทคโนโลยีพื้นฐาน**: โปรแกรมต้องพัฒนาด้วยภาษา C++ ล้วนๆ โดยไม่ใช้ไลบรารีภายนอกที่ซับซ้อน (ยกเว้น <conio.h> สำหรับรับค่าคีย์บอร์ดใน Windows) การแสดงผลเป็นตัวอักษรบน console (ไม่มีกราฟิกพิเศษ) และโปรแกรมสามารถรันได้แบบ interactive บน terminal

- **ประสิทธิภาพและการตอบสนอง**: แม้ว่าเกมจะเป็น ASCII แต่วงลูปหลักควรจะรันได้อย่างราบรื่น ในที่นี้ตั้งค่าให้เฟรมการแสดงผลอยู่ที่ประมาณ 10 เฟรมต่อวินาที (หน่วงเวลา ~100ms แต่ละรอบ) เพื่อให้การเคลื่อนไหวของรถถังและกระสุนเห็นได้ชัดเจนและผู้เล่นมีเวลาตอบสนอง การอัปเดตตำแหน่งและการตรวจสอบการชนทำได้ในเวลา O(n) (Big O ในที่นี้คือ Time complexity) ตามจำนวนวัตถุในฉาก ซึ่งมีจำนวนน้อย (หลักสิบ) จึงไม่มีปัญหาด้านประสิทธิภาพ

- **ความเข้ากันได้**: เนื่องจากใช้ <conio.h> โปรแกรมจึง ทำงานบนระบบ Windows เป็นหลัก (คอนโซล Windows) การแสดงผลภาษาไทยบนคอนโซลอาจต้องการ font หรือ code page ที่รองรับ แต่ซอร์สโค้ดทั้งหมดจัดทำเป็น UTF-8 เพื่อความถูกต้องของภาษา หากต้องการรันบนระบบอื่น (Linux/Unix) อาจต้องปรับใช้ไลบรารีอื่นสำหรับจัดการคีย์บอร์ด (เช่น ncurses) แต่ในขอบเขตงานนี้มุ่งเน้นที่แพลตฟอร์ม Windows เท่านั้น

- **คุณภาพซอร์สโค้ด**: โค้ดถูกจัดแบ่งเป็นหลายไฟล์ (เช่น Game.h/.cpp, Tank.h/.cpp, Map.h/.cpp, Bullet.h/.cpp, main.cpp เป็นต้น) ตามหน้าที่ของแต่ละส่วน เพื่อให้ง่ายต่อการอ่านและบำรุงรักษา ตัวแปร ชื่อคลาส เมธอด และคอมเมนต์ทั้งหมดเขียนเป็นภาษาไทยอย่างชัดเจน เพื่อให้นักศึกษาชั้นปีที่ 1 สามารถศึกษาความหมายได้ง่าย มีการจัดรูปแบบโค้ดและเว้นวรรค ให้ดูสบายตา และมีคำอธิบายเป็นคอมเมนต์กำกับในจุดที่สำคัญ โค้ดทั้งหมดสามารถอ่านเข้าใจได้โดยไม่ต้องเดาความหมายของชื่อภาษาต่างประเทศ

- **ความเสถียร**: โปรแกรมต้องสามารถรันได้ต่อเนื่องตั้งแต่ด่านแรกจนถึงด่านสุดท้ายโดยไม่เกิดการค้างหรือหลุดออกเอง การจัดการหน่วยความจำ ทำอย่างถูกต้อง – มีการจอง (new) หน่วยความจำสำหรับวัตถุที่สร้างแบบไดนามิก (รถถังศัตรู) และลบ (delete) อย่างเหมาะสมเมื่อไม่ใช้ เช่น เมื่อล้างด่านหรือจบเกม เพื่อป้องกัน memory leak

## คู่มือผู้ใช้ (User Manual)
**1. การเริ่มต้นโปรแกรม**: หลังจากคอมไพล์และเปิดโปรแกรม Tank 1990 ขึ้นมา เกมจะเข้าสู่ด่านแรกทันที (หน้าจอจะเป็นสนามรบของด่านที่ 1)

**2. การควบคุมระหว่างเล่น**: ผู้ใช้จะเห็นรถถังผู้เล่นของตนแสดงด้วยตัวอักษร ```P``` บริเวณด้านล่างของสนาม (จุดเกิดเริ่มต้น) สามารถกดปุ่ม ```W```,```A```,```S```,```D``` เพื่อขยับรถถังขึ้น, ซ้าย, ลง, ขวาตามต้องการทีละช่องบนแผนที่ (พยายามกดทีล่ะครั้ง อย่ากดค้าง) ทุกครั้งที่กดปุ่มทิศทาง รถถังจะหมุนหน้าไปทิศนั้นและขยับไป 1 ก้าว (ถ้าไม่มีสิ่งกีดขวาง) ผู้ใช้สามารถกดปุ่มค้างเพื่อเคลื่อนที่ต่อเนื่อง (รถถังจะขยับทีละก้าวตามเฟรม) การยิงกระสุนทำได้โดยกด ```Space bar``` – รถถังจะยิงลูกกระสุน ```*``` ออกไปในทิศที่หันอยู่ ระหว่างเล่น หากต้องการออกจากเกมก่อนให้กดปุ่ม ```Ctrl + C``` เพื่อออกจากเกม

**3. การดูข้อมูลสถานะ**: ที่ด้านบนของหน้าจอจะแสดงข้อมูลสถานะสำคัญ ได้แก่ หมายเลขด่านปัจจุบันของผู้เล่นเเละพลังชีวิตของผู้เล่น เช่น ```"ด่าน: 2 พลังชีวิต: 3" หมายถึงกำลังเล่นด่าน 2 ด่าน และมีพลังชีวิตอยู่ที่ 3 หน่วย``` นอกจากนี้ ผู้ใช้สามารถสังเกตจำนวนศัตรูที่เหลืออยู่ในด่านได้จากรถถังสัญลักษณ์ ```E``` และ ```B``` ที่ยังปรากฏบนแผนที่ (ไม่มีตัวเลขบอกตรงๆ แต่เมื่อจำนวนลดลงจนหมด ผู้เล่นจะทราบเพราะด่านจะจบลง)

**4. เปลี่ยนด่านและบอส**: เมื่อผู้เล่นทำลายรถถังศัตรูในด่านปัจจุบันทั้งหมด เกมจะเเสดงข้อความเขียนว่า ```"ผ่านด่าน (เลขด่านปัจจุบัน) !"``` ชั่วครู่แล้วโหลดด่านถัดไป โดยอัตโนมัติ ผู้ใช้ไม่ต้องกดอะไรเพิ่มเติม แผนที่ใหม่จะสุ่มสร้างและแสดงขึ้นพร้อมตำแหน่งเริ่มต้นของตนและศัตรูชุดใหม่ ด่านสุดท้ายจะมีบอส (ตัว ```B```) โผล่ออกมาซึ่งผู้เล่นต้องระมัดระวังเป็นพิเศษ (บอสยิงถี่,เเรงและอึดกว่าปกติ) ผู้ใช้เล่นด่านสุดท้ายเหมือนด่านอื่นๆ เพียงแต่ต้องยิงบอสหลายครั้ง

**5. สิ้นสุดเกม**: หากผู้เล่นพลาดโดนยิง รถถัง ```P``` จะหายไปจากจอและเกมจะหยุดลงทันที หน้าจอจะแสดงข้อความ ```"จบเกม! ผู้เล่นแพ้"``` เป็นภาษาไทยพร้อมคะแนนที่ทำได้ในรอบนั้น ผู้ใช้จะไม่สามารถควบคุมอะไรต่อได้ ณ จุดนี้ โปรแกรมรอให้ผู้ใช้ปิดหน้าต่าง console หรือกดปุ่มใดๆ เพื่อสิ้นสุด นอกจากนี้ หากผู้เล่นสามารถเอาชนะบอสในด่านสุดท้ายได้ หน้าจอจะแสดงข้อความแสดงความยินดี เช่น ```"ยินดีด้วย คุณชนะเกมครบทุกด่าน!"``` จากนั้นโปรแกรมจะจบลงเช่นกัน

**6. การเริ่มเกมใหม่**: เมื่อเกมจบลงไม่ว่าจะแพ้หรือชนะ หากผู้ใช้ต้องการเล่นอีกครั้งจะต้องรันโปรแกรมใหม่ตั้งแต่ต้น (เวอร์ชันนี้ยังไม่มีเมนูรีสตาร์ทหรือการวนกลับอัตโนมัติ) ผู้ใช้สามารถปิดหน้าต่าง console แล้วเปิดโปรแกรมซ้ำ หรือกด ```Ctrl + C``` ใน terminal เพื่อหยุดแล้วรันใหม่
